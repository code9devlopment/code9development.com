(this["webpackJsonphosting-ui"]=this["webpackJsonphosting-ui"]||[]).push([[33],{1176:function(e,t,a){},1323:function(e,t,a){"use strict";a.r(t);var c=a(19),n=a(38),r=a(8),i=a(43),s=a(2),o=a(624),d=a(620),l=a(810),b=a(693),j=a(33),h=a(36),u=a(5),O=a(196),m=a(4);var p=function(){return Object(m.jsx)("svg",{width:"40",height:"40",viewBox:"0 0 18 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(m.jsx)("path",{d:"M16.0255 0.260389L5.75035 10.5355L1.97488 6.76008C1.79184 6.57703 1.49504 6.57703 1.31195 6.76008L0.207109 7.86492C0.0240625 8.04797 0.0240625 8.34476 0.207109 8.52785L5.41887 13.7396C5.60191 13.9227 5.89871 13.9227 6.0818 13.7396L17.7932 2.02816C17.9763 1.84512 17.9763 1.54832 17.7932 1.36523L16.6884 0.260389C16.5054 0.0773424 16.2086 0.0773424 16.0255 0.260389Z",fill:"#04AA6D"})})};var g=function(){return Object(m.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",fill:"red",viewBox:"0 0 16 16",children:[Object(m.jsx)("path",{d:"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"}),Object(m.jsx)("path",{d:"M7.002 11a1 1 0 1 1 2 0 1 1 0 0 1-2 0zM7.1 4.995a.905.905 0 1 1 1.8 0l-.35 3.507a.552.552 0 0 1-1.1 0L7.1 4.995z"})]})},x=(a(1176),a(28)),f=a(131);t.default=function(e){var t=e.captcha_enabled,a=void 0===t||t,C=Object(s.useState)({domainName:"",authCode:""}),v=Object(i.a)(C,2),y=v[0],k=v[1],w=Object(s.useState)(!1),N=Object(i.a)(w,2),S=N[0],A=N[1],D=Object(s.useState)(!1),T=Object(i.a)(D,2),L=T[0],_=T[1],B=Object(s.useState)(),F=Object(i.a)(B,2),G=F[0],E=F[1],z=Object(s.useState)(""),P=Object(i.a)(z,2),R=P[0],M=P[1],H=Object(s.useState)(!1),K=Object(i.a)(H,2),V=K[0],I=K[1],J=Object(s.useState)(!1),q=Object(i.a)(J,2),U=q[0],Z=q[1],Q=Object(s.useState)(!1),W=Object(i.a)(Q,2),X=W[0],Y=W[1],$=Object(j.c)(),ee=Object(h.i)().spaceId,te={type:"ReCaptchaV2",action:"searchDomainForSpace"},ae=Object(s.useState)({value:"",origin:te.type,action:te.action}),ce=Object(i.a)(ae,2),ne=ce[0],re=ce[1],ie={};function se(e){k(Object(r.a)(Object(r.a)({},y),e))}function oe(e){return de.apply(this,arguments)}function de(){return(de=Object(n.a)(Object(c.a)().mark((function e(t){var n,r,s,o,d;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),n=ne,!a){e.next=20;break}if("undefined"!==typeof ie.captcha){e.next=8;break}return s={code:"FSUCM",description:"Failed setting up Captcha module"},u.logging.logError("".concat(s.description," [").concat(s.code,"]")),$(Object(f.a)({id:Object(x.h)(),dismissed:!1,type:"error",header:Object(m.jsx)(m.Fragment,{children:"Google ReCAPTCHA Error"}),body:"".concat(s.description," [").concat(s.code,"]"),dismissButtonText:"OK"})),e.abrupt("return");case 8:return e.next=10,ie.captcha.fetchCaptchaToken({handle_errors_internally:!1});case 10:if(o=e.sent,d=Object(i.a)(o,2),n=d[0],r=d[1],u.logging.logDebug("res_captcha_token: ",n),u.logging.logDebug("res_captcha_exc: ",r),!r){e.next=19;break}return $(Object(f.a)({id:Object(x.h)(),dismissed:!1,type:"error",header:Object(m.jsx)(m.Fragment,{children:"Google ReCAPTCHA Error"}),body:"".concat(r.description," [").concat(r.code,"]"),dismissButtonText:"OK"})),e.abrupt("return");case 19:re(n);case 20:le(n),t.target.blur();case 22:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function le(e){return be.apply(this,arguments)}function be(){return be=Object(n.a)(Object(c.a)().mark((function e(t){var n;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(_(!0),a||(t={value:"a",origin:"ReCaptchaV2",action:"c"}),S){e.next=13;break}return e.next=5,Object(u.fetchSpacesPlugin)({url:"/domains/domain-transferability",method:"POST",data:{domainName:y.domainName,authCode:y.authCode,captcha_token:t}});case 5:n=e.sent,u.logging.logDebug("DomainCheckTransferability -> checkDomainTransferability -> reqRes: ",n),I(!n.data.transferability),Z(n.data.transferability),Y(!1),n.data.transferability?(E(n.data.domainName),M("Domain is transferable")):n.data.error?$(Object(f.a)({id:Object(x.h)(),dismissed:!1,type:"error",header:n.data.name.toString(),body:n.error.description.toLowerCase().indexOf("recaptcha")>-1?"Google reCAPTCHA verification failed":n.data.message.toString(),dismissButtonText:"OK"})):(M(n.data.message),n.data.message.includes("authorization code")&&Y(!0),E(void 0)),e.next=18;break;case 13:Z(!0),I(!1),Y(!1),M("Domain is transferable."),E(y.domainName);case 18:_(!1);case 19:case"end":return e.stop()}}),e)}))),be.apply(this,arguments)}return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(o.a,{className:"top-row",children:Object(m.jsx)(d.a,{md:6,children:Object(m.jsx)(O.a,{text:"Back",handleOnClick:function(e,t){t.push("/")}})})}),Object(m.jsx)(o.a,{children:Object(m.jsxs)(d.a,{md:20,className:"left-column",children:[Object(m.jsx)("h1",{children:"Transfer domain"}),Object(m.jsxs)(l.a,{onSubmit:oe,children:[Object(m.jsxs)(l.a.Group,{children:[Object(m.jsx)(l.a.Label,{children:"Domain name"}),Object(m.jsx)(l.a.Control,{type:"text",value:y.domainName,onChange:function(e){se({domainName:e.target.value.trim().replace(/ /g,"")})},isInvalid:V,isValid:U})]}),Object(m.jsxs)(l.a.Group,{children:[Object(m.jsx)(l.a.Label,{children:"Authorization code"}),Object(m.jsx)(l.a.Control,{type:"text",value:y.authCode,onChange:function(e){se({authCode:e.target.value})},isInvalid:X,isValid:U})]}),["develop","staging"].includes(u.util.getEnv())?Object(m.jsx)(l.a.Group,{children:Object(m.jsx)(l.a.Check,{type:"checkbox",checked:S,onChange:function(e){return A(!!e.target.checked)},label:"Dry run - do not register domain"})}):""]}),Object(m.jsxs)(o.a,{children:[Object(m.jsx)("div",{className:"check-input",children:Object(m.jsx)(u.Button,{disabled:""===y.domainName||""===y.authCode,onClick:oe,variant:"secondary",loading:L,children:"Check input"})}),void 0!==G?Object(m.jsx)("div",{className:"num-cart"}):"",Object(m.jsx)(b.a,{className:"btn-ct",disabled:void 0===G,onClick:function(){u.GoogleAnalytics.sendEvent({name:'Clicked on "Checkout"',category:"Domains"})},href:"/domains/register/".concat(ee,"/").concat(G,"/true/").concat(y.authCode),children:"Checkout"})]}),Object(m.jsx)(o.a,{children:V||U?Object(m.jsxs)("div",{className:U?"transferability-message-transferable":"transferability-message-not-transferable",children:[U?Object(m.jsxs)("div",{className:"checkmark",children:[Object(m.jsx)(p,{})," "]}):Object(m.jsx)("div",{className:"danger-exclamation",children:Object(m.jsx)(g,{})}),R]}):Object(m.jsx)(m.Fragment,{})})]})}),Object(m.jsx)(o.a,{children:Object(m.jsx)(d.a,{children:Object(m.jsx)(u.Captcha,Object(r.a)({cross_ref:ie,onErrorCallback:function(e){$(Object(f.a)({id:Object(x.h)(),dismissed:!1,type:"error",header:Object(m.jsx)(m.Fragment,{children:"Google ReCAPTCHA Error"}),body:"".concat(e.description," [").concat(e.code,"]"),dismissButtonText:"OK"}))}},te))})})]})}}}]);
//# sourceMappingURL=33.d8b6370c.chunk.js.map